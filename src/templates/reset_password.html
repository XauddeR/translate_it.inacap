{% extends "base.html" %}
{% from "_forms.html" import csrf %}
{% block title %}Restablecer contraseña — Translate It{% endblock %}

{% block content %}
<section class="relative">
  <div class="absolute inset-0 -z-10">
    <div class="absolute -bottom-32 left-1/2 -translate-x-1/2 w-[1200px] h-[1200px] rounded-full blur-3xl opacity-30"
         style="background: radial-gradient(closest-side, rgba(59,130,246,.35), rgba(29,78,216,.25), transparent 70%);"></div>
  </div>

  <div class="max-w-md mx-auto px-4 sm:px-6 py-10 md:py-14">
    <h1 class="text-3xl font-extrabold tracking-tight mb-4">Restablecer contraseña</h1>
    <p class="text-sm text-slate-300 mb-6">
      Ingresa tu nueva contraseña. Procura que sea segura y fácil de recordar.
    </p>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="mb-4 space-y-2">
          {% for category, message in messages %}
            <div class="rounded-xl px-4 py-3 text-sm
                        {% if 'success' in category %} bg-emerald-900/30 text-emerald-200 ring-1 ring-emerald-500/30
                        {% elif 'error' in category %} bg-rose-900/30 text-rose-200 ring-1 ring-rose-500/30
                        {% else %} bg-white/5 text-slate-200 ring-1 ring-white/10 {% endif %}">
              {{ message }}
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <form method="POST" class="space-y-5">
      {{ csrf() }}
      <div>
        <label for="password" class="block text-sm font-medium text-slate-200 mb-1">Nueva contraseña</label>
        <input type="password" id="password" name="password" required
               class="w-full rounded-lg bg-slate-900/60 border border-white/10 px-4 py-2.5 text-slate-100
                      focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-brand-500">
      </div>

      <div>
        <label for="confirm" class="block text-sm font-medium text-slate-200 mb-1">Confirmar contraseña</label>
        <input type="password" id="confirm" name="confirm" required
               class="w-full rounded-lg bg-slate-900/60 border border-white/10 px-4 py-2.5 text-slate-100
                      focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-brand-500">
      </div>

      <button type="submit"
              class="w-full inline-flex items-center justify-center gap-2 rounded-lg bg-brand-600 hover:bg-brand-500 text-white font-semibold py-2.5 shadow-glow">
        Guardar nueva contraseña
      </button>
    </form>
  </div>
</section>
{% endblock %}
